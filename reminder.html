<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medication Schedule - MedMinder</title>
  <link rel="stylesheet" href="simpMedCheck.css">
  <style>
    /* Additional styles for better language support */
    .language-selector {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .translated-content {
      transition: all 0.3s ease;
    }

    /* Senior-friendly styles */
    body {
      font-family: 'Arial', sans-serif;
      font-size: 20px; /* Larger base font size */
      line-height: 1.6;
      color: #333;
      background-color: #f5f7fa;
      margin: 0;
      padding: 20px;
    }
    
    /* Headings */
    h2 {
      color: #2c5530;
      font-size: 2.2em;
      margin-bottom: 25px;
      text-align: center;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
    }

    /* Table styling for better readability */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      background-color: white;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      border-radius: 15px;
      overflow: hidden;
    }

    th, td {
      border: 2px solid #4CAF50; /* Higher contrast borders */
      padding: 15px; /* More padding for easier reading */
      text-align: left;
      font-size: 20px; /* Larger text in table */
    }

    th {
      background-color: #4CAF50;
      color: white;
      font-weight: bold;
      font-size: 22px; /* Slightly larger header text */
    }

    tr:nth-child(even) {
      background-color: #f2f2f2; /* Alternate row coloring for better readability */
    }

    /* Input fields */
    input {
      width: 100%;
      box-sizing: border-box;
      padding: 12px;
      font-size: 18px; /* Larger input text */
      border: 2px solid #ddd;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    input:focus {
      border-color: #4CAF50;
      outline: none;
      box-shadow: 0 0 8px rgba(76, 175, 80, 0.3);
    }

    /* Buttons */
    button {
      background: linear-gradient(135deg, #4CAF50, #45a049);
      color: white;
      border: none;
      border-radius: 10px;
      padding: 15px 25px;
      cursor: pointer;
      font-weight: bold;
      font-size: 20px; /* Larger button text */
      transition: all 0.3s ease;
    }

    button:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
      background: linear-gradient(135deg, #45a049, #3d8b40);
    }

    /* Perfectly sized Add Medication button */
    .add {
      display: block;
      margin: 20px auto;
      width: 240px; /* Adjusted width to fit text perfectly */
      height: 65px; /* Slightly taller for better proportion */
      font-size: 22px;
      padding: 18px 10px; /* Adjusted padding for perfect fit */
      white-space: nowrap; /* Prevent text wrapping */
    }

    .remove-btn {
      background: linear-gradient(135deg, #f44336, #d32f2f);
      padding: 12px 20px;
      font-size: 18px;
      white-space: nowrap;
    }

    .remove-btn:hover {
      background: linear-gradient(135deg, #d32f2f, #b71c1c);
    }

    /* Footer */
    footer {
      text-align: center;
      margin-top: 40px;
      padding: 20px;
      background-color: #e9ecef;
      border-radius: 10px;
      font-size: 18px;
    }

    footer a {
      color: #4CAF50;
      text-decoration: none;
      font-weight: bold;
    }

    footer a:hover {
      text-decoration: underline;
    }

    /* High contrast mode option */
    .high-contrast {
      background-color: #000;
      color: #fff;
    }
    
    .high-contrast table {
      background-color: #000;
      color: #fff;
    }
    
    .high-contrast th {
      background-color: #ffff00;
      color: #000;
    }
    
    .high-contrast input {
      background-color: #000;
      color: #fff;
      border-color: #fff;
    }

    /* Accessibility controls */
    .accessibility-controls {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 20px 0;
    }

    .accessibility-btn {
      background: linear-gradient(135deg, #6c757d, #5a6268);
      font-size: 18px;
      padding: 12px 20px;
      white-space: nowrap;
    }

    /* Speech controls */
    .speech-controls {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 15px 0;
    }

    .speech-btn {
      background: linear-gradient(135deg, #2196F3, #1976D2);
      font-size: 18px;
      padding: 10px 15px;
      white-space: nowrap;
    }

    .speech-btn.stop {
      background: linear-gradient(135deg, #f44336, #d32f2f);
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .utility-bar {
        flex-direction: column;
      }
      
      .utility-bar button, 
      .utility-bar select,
      .utility-bar a button {
        width: 100%;
      }
      
      table {
        font-size: 18px;
      }
      
      th, td {
        padding: 10px;
      }
      
      .accessibility-controls,
      .speech-controls {
        flex-direction: column;
        align-items: center;
      }
      
      .add {
        width: 220px; /* Slightly smaller on mobile */
        font-size: 20px;
      }
    }
  </style>
</head>
<body>
  <header>
    <nav class="utility-bar">
      <a href="index.html" style="text-decoration: none;"><button id="homeBtn">üè† <span data-translate="home">Home</span></button></a>
      <a href="schedule.html" style="text-decoration: none;"><button id="scheduleBtn">üìÖ <span data-translate="schedule">Schedule</span></button></a>
      <a href="reminder.html" style="text-decoration: none;"><button id="remindersBtn">üîî <span data-translate="reminders">Reminders</span></button></a>
      <a href="settings.html" style="text-decoration: none;"><button id="settingsBtn">‚öôÔ∏è <span data-translate="settings">Settings</span></button></a>
      <a href="howtouse.html" style="text-decoration: none;"><button>‚ùì <span data-translate="howToUse">How to Use</span></button></a>
      <a href="added-medications.html" style="text-decoration: none;"><button>üíä <span data-translate="addedMeds">Added Medications</span></button></a>
      <a href="profile.html" style="text-decoration: none;"><button>üë§ <span data-translate="profile">Profile</span></button></a>

      <div class="language-selector">
        <select class="lS" id="languageSelect">
          <option value="en">English</option>
          <option value="ig">Igbo</option>
          <option value="yo">Yoruba</option>
          <option value="ha">Hausa</option>
        </select>
      </div>
    </nav>

    <h1>üëµ <span data-translate="appName">MedMinder</span></h1>
    <!-- Removed the greeting, time, and quote section -->
  </header>

  <main>
    <h2 class="week" data-translate="weeklySchedule">üìã Weekly Medication Schedule</h2>
    
    <!-- Accessibility Controls -->
    <div class="accessibility-controls">
      <button class="accessibility-btn" onclick="increaseFontSize()" data-translate="largerText">A+ Larger Text</button>
      <button class="accessibility-btn" onclick="decreaseFontSize()" data-translate="smallerText">A- Smaller Text</button>
      <button class="accessibility-btn" id="contrastToggle" onclick="toggleContrast()" data-translate="highContrast">üîÜ High Contrast</button>
    </div>

    <!-- Speech Controls -->
    <div class="speech-controls">
      <button class="speech-btn" onclick="readEverything()" data-translate="readAloud">üîä Read Everything Aloud</button>
      <button class="speech-btn stop" onclick="stopSpeech()" data-translate="stopReading">‚èπÔ∏è Stop Reading</button>
    </div>

    <table id="medTable">
      <thead>
        <tr>
          <th data-translate="day">Day</th>
          <th data-translate="medication">Medication</th>
          <th data-translate="dosage">Dosage</th>
          <th data-translate="time">Time</th>
          <th data-translate="action">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><input type="text" placeholder="e.g. Monday" data-translate="mondayPlaceholder"></td>
          <td><input type="text" placeholder="e.g. Paracetamol" data-translate="medPlaceholder"></td>
          <td><input type="text" placeholder="e.g. 500mg" data-translate="dosagePlaceholder"></td>
          <td><input type="time"></td>
          <td><button class="remove-btn" onclick="removeRow(this)" data-translate="remove">Remove</button></td>
        </tr>
      </tbody>
    </table>

    <br>
    <button class="add" onclick="addRow()" data-translate="addMedication">‚ûï Add Medication</button>
  </main>

  <footer>
    <p><span data-translate="copyright">MedMinder ¬© 2025</span></p>
    <p><span data-translate="designedFor">Designed with care for older adults</span> | <a href="#" data-translate="privacyPolicy">Privacy Policy</a></p>
  </footer>

  <script>
    // Comprehensive translations for all content
    const translations = {
      en: {
        // Navigation
        home: "Home",
        schedule: "Schedule",
        reminders: "Reminders",
        settings: "Settings",
        howToUse: "How to Use",
        addedMeds: "Added Medications",
        profile: "Profile",
        
        // Header
        appName: "MedMinder",
        
        // Main content
        weeklySchedule: "Weekly Medication Schedule",
        day: "Day",
        medication: "Medication",
        dosage: "Dosage",
        time: "Time",
        action: "Action",
        remove: "Remove",
        addMedication: "Add Medication",
        largerText: "A+ Larger Text",
        smallerText: "A- Smaller Text",
        highContrast: "üîÜ High Contrast",
        readAloud: "üîä Read Everything Aloud",
        stopReading: "‚èπÔ∏è Stop Reading",
        normalMode: "üåô Normal Mode",
        
        // Placeholders
        mondayPlaceholder: "e.g. Monday",
        medPlaceholder: "e.g. Paracetamol",
        dosagePlaceholder: "e.g. 500mg",
        
        // Footer
        copyright: "MedMinder ¬© 2025",
        designedFor: "Designed with care for older adults",
        privacyPolicy: "Privacy Policy"
      },
      ig: {
        // Navigation
        home: "·ª§l·ªç",
        schedule: "Nhazi oge",
        reminders: "Ncheta",
        settings: "Nt·ªçala",
        howToUse: "Otu esi eji",
        addedMeds: "·ªågw·ª• Agbakwunyere",
        profile: "Profa·ªãl·ª•",
        
        // Header
        appName: "MedMinder",
        
        // Main content
        weeklySchedule: "Nhazi ·ªågw·ª• n'Izu",
        day: "·ª§b·ªçch·ªã",
        medication: "·ªågw·ª•",
        dosage: "Usoro",
        time: "Oge",
        action: "Omume",
        remove: "Wep·ª•",
        addMedication: "Tinye ·ªågw·ª•",
        largerText: "A+ Ederede Ukwuu",
        smallerText: "A- Ederede Nta",
        highContrast: "üîÜ Nt·ª•nye Uche D·ªã Elu",
        readAloud: "üîä G·ª•·ªç Ihe Niile",
        stopReading: "‚èπÔ∏è Kw·ª•s·ªã ·ªäg·ª•",
        normalMode: "üåô ·ª§d·ªã Nk·ªãt·ªã",
        
        // Placeholders
        mondayPlaceholder: "d·ªãka M·ªçnde",
        medPlaceholder: "d·ªãka Paracetamol",
        dosagePlaceholder: "d·ªãka 500mg",
        
        // Footer
        copyright: "MedMinder ¬© 2025",
        designedFor: "Emebere ya maka nd·ªã okenye",
        privacyPolicy: "Am·ª•ma Nzuzo"
      },
      yo: {
        // Navigation
        home: "Ile",
        schedule: "I·π£eto Akoko",
        reminders: "Aw·ªçn iranti",
        settings: "Eto",
        howToUse: "Bii Lati Lo",
        addedMeds: "Aw·ªçn Oogun Ti A Fikun",
        profile: "Profaili",
        
        // Header
        appName: "MedMinder",
        
        // Main content
        weeklySchedule: "I·π£eto Oogun ·ªås·∫π",
        day: "·ªåj·ªç",
        medication: "Oogun",
        dosage: "Iwon Oogun",
        time: "Akoko",
        action: "I·π£e",
        remove: "Y·ªç kuro",
        addMedication: "Fi Oogun Kun",
        largerText: "A+ ·ªår·ªç Nla",
        smallerText: "A- ·ªår·ªç Kekere",
        highContrast: "üîÜ Iyat·ªç Giga",
        readAloud: "üîä Ka Gbogbo Rara",
        stopReading: "‚èπÔ∏è Duro Kika",
        normalMode: "üåô ·ªåna Ab·∫π",
        
        // Placeholders
        mondayPlaceholder: "bii Monday",
        medPlaceholder: "bii Paracetamol",
        dosagePlaceholder: "bii 500mg",
        
        // Footer
        copyright: "MedMinder ¬© 2025",
        designedFor: "A ·π£e ap·∫πr·∫π p·∫πlu itoju fun aw·ªçn ar·ªçgb·ªç",
        privacyPolicy: "Ilana Ik·ªçk·ªç"
      },
      ha: {
        // Navigation
        home: "Gida",
        schedule: "Jadawali",
        reminders: "Tunatarwa",
        settings: "Saituna",
        howToUse: "Yadda ake Amfani",
        addedMeds: "Magungunan Da Aka ∆òara",
        profile: "Bayanan Martaba",
        
        // Header
        appName: "MedMinder",
        
        // Main content
        weeklySchedule: "Jadawalin Magungunan Mako",
        day: "Rana",
        medication: "Magani",
        dosage: "Dozi",
        time: "Lokaci",
        action: "Aiki",
        remove: "Cire",
        addMedication: "∆òara Magani",
        largerText: "A+ Rubutu Mai Girma",
        smallerText: "A- Rubutu ∆òarami",
        highContrast: "üîÜ Babban Bambanci",
        readAloud: "üîä Karanta Komai",
        stopReading: "‚èπÔ∏è Dakatar da Karatu",
        normalMode: "üåô Yanayin Al'ada",
        
        // Placeholders
        mondayPlaceholder: "misali Litinin",
        medPlaceholder: "misali Paracetamol",
        dosagePlaceholder: "misali 500mg",
        
        // Footer
        copyright: "MedMinder ¬© 2025",
        designedFor: "An tsara shi da kulawa ga tsofaffi",
        privacyPolicy: "Manufar Sirri"
      }
    };

    // Apply translations to the entire page
    function applyTranslation(lang) {
      const t = translations[lang] || translations["en"];
      
      // Update all elements with data-translate attribute
      document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (t[key]) {
          element.textContent = t[key];
        }
      });
      
      // Update input placeholders
      document.querySelectorAll('input[data-translate]').forEach(input => {
        const key = input.getAttribute('data-translate');
        if (t[key]) {
          input.placeholder = t[key];
        }
      });
      
      // Update contrast button text
      const contrastButton = document.getElementById('contrastToggle');
      if (document.body.classList.contains('high-contrast')) {
        contrastButton.textContent = t.normalMode || "üåô Normal Mode";
      } else {
        contrastButton.textContent = t.highContrast || "üîÜ High Contrast";
      }
    }

    // Initialize the page
    window.addEventListener("DOMContentLoaded", () => {
      const defaultLang = document.getElementById("languageSelect").value;
      applyTranslation(defaultLang);
    });

    // Language selector event listener
    document.getElementById("languageSelect").addEventListener("change", (e) => {
      applyTranslation(e.target.value);
    });

    // Font size adjustment
    let currentFontSize = 20;
    
    function increaseFontSize() {
      currentFontSize += 2;
      document.body.style.fontSize = currentFontSize + 'px';
    }
    
    function decreaseFontSize() {
      if (currentFontSize > 16) {
        currentFontSize -= 2;
        document.body.style.fontSize = currentFontSize + 'px';
      }
    }
    
    // High contrast mode
    function toggleContrast() {
      document.body.classList.toggle('high-contrast');
      const currentLang = document.getElementById("languageSelect").value;
      const t = translations[currentLang] || translations["en"];
      
      const button = document.getElementById('contrastToggle');
      if (document.body.classList.contains('high-contrast')) {
        button.textContent = t.normalMode || "üåô Normal Mode";
      } else {
        button.textContent = t.highContrast || "üîÜ High Contrast";
      }
    }
    
    // Text-to-speech functionality
    let currentUtterance = null;
    
    function readEverything() {
      if ('speechSynthesis' in window) {
        // Stop any ongoing speech
        window.speechSynthesis.cancel();
        
        // Get all text content from the page
        let fullText = "Weekly Medication Schedule Page. ";
        
        // Read navigation items
        const navButtons = document.querySelectorAll('.utility-bar button');
        fullText += "Navigation: ";
        navButtons.forEach(button => {
          if (button.textContent && !button.textContent.includes('üë§')) { // Skip language select indicator
            fullText += button.textContent + ". ";
          }
        });
        
        // Read main heading
        const mainHeading = document.querySelector('h2');
        if (mainHeading) {
          fullText += mainHeading.textContent + ". ";
        }
        
        // Read accessibility controls
        const accessibilityButtons = document.querySelectorAll('.accessibility-controls button');
        fullText += "Accessibility controls: ";
        accessibilityButtons.forEach(button => {
          fullText += button.textContent + ". ";
        });
        
        // Read speech controls
        const speechButtons = document.querySelectorAll('.speech-controls button');
        fullText += "Speech controls: ";
        speechButtons.forEach(button => {
          if (!button.textContent.includes('‚èπÔ∏è')) { // Skip stop button in reading
            fullText += button.textContent + ". ";
          }
        });
        
        // Read table headers
        const tableHeaders = document.querySelectorAll('th');
        fullText += "Medication table with columns: ";
        tableHeaders.forEach(header => {
          if (!header.textContent.includes('Action')) {
            fullText += header.textContent + ", ";
          }
        });
        
        // Read table content
        const tableRows = document.querySelectorAll('#medTable tbody tr');
        if (tableRows.length > 0) {
          fullText += "Current medications: ";
          tableRows.forEach((row, index) => {
            const inputs = row.querySelectorAll('input');
            if (inputs.length >= 4) {
              const day = inputs[0].value || "Day not specified";
              const medication = inputs[1].value || "Medication not specified";
              const dosage = inputs[2].value || "Dosage not specified";
              const time = inputs[3].value || "Time not specified";
              
              fullText += `Row ${index + 1}: On ${day}, take ${medication}, ${dosage} at ${time}. `;
            }
          });
        } else {
          fullText += "No medications added yet. ";
        }
        
        // Read Add Medication button
        fullText += "To add a new medication, use the Add Medication button at the bottom of the table. ";
        
        // Read footer
        const footerText = document.querySelector('footer');
        if (footerText) {
          const footerContent = footerText.textContent.replace(/\s+/g, ' ').trim();
          fullText += "Footer: " + footerContent + ". ";
        }
        
        // Instructions for using the page
        fullText += "To remove a medication, use the Remove button next to each entry. ";
        fullText += "You can adjust text size and contrast using the accessibility controls. ";
        
        // Create and speak the utterance
        currentUtterance = new SpeechSynthesisUtterance(fullText);
        currentUtterance.rate = 0.8; // Slower speech for better comprehension
        currentUtterance.pitch = 1;
        currentUtterance.volume = 1;
        
        currentUtterance.onend = function() {
          console.log("Finished reading the page content");
        };
        
        window.speechSynthesis.speak(currentUtterance);
      } else {
        alert('Text-to-speech is not supported in your browser. Please try using Chrome, Edge, or Safari.');
      }
    }
    
    function stopSpeech() {
      if ('speechSynthesis' in window) {
        window.speechSynthesis.cancel();
      }
    }
    
    // Table functionality
    function addRow() {
      const tableBody = document.getElementById("medTable").getElementsByTagName("tbody")[0];
      const newRow = document.createElement("tr");

      const cells = [
        '<input type="text" placeholder="e.g. Tuesday" data-translate="mondayPlaceholder">',
        '<input type="text" placeholder="e.g. Ibuprofen" data-translate="medPlaceholder">',
        '<input type="text" placeholder="e.g. 200mg" data-translate="dosagePlaceholder">',
        '<input type="time">'
      ];

      cells.forEach(cellHTML => {
        const cell = document.createElement("td");
        cell.innerHTML = cellHTML;
        newRow.appendChild(cell);
      });

      const removeCell = document.createElement("td");
      const removeBtn = document.createElement("button");
      removeBtn.textContent = "Remove";
      removeBtn.className = "remove-btn";
      removeBtn.setAttribute('data-translate', 'remove');
      removeBtn.onclick = function () {
        removeRow(this);
      };
      removeCell.appendChild(removeBtn);
      newRow.appendChild(removeCell);

      tableBody.appendChild(newRow);
      
      // Update placeholders for the new row
      const currentLang = document.getElementById("languageSelect").value;
      applyTranslation(currentLang);
    }
    
    function removeRow(button) {
      const row = button.closest("tr");
      row.remove();
    }
  </script>
</body>
</html>
