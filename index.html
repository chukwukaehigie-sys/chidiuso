<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MedMinder</title>
  <link rel="stylesheet" href="simpmedcheck.css" />
  <style>
    /* Additional styles for better language support */
    .language-selector {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .translated-content {
      transition: all 0.3s ease;
    }
  </style>
</head>
<body>
  <header>
    <nav class="utility-bar">
      <a href="index.html" style="text-decoration: none;"><button id="homeBtn">üè† <span data-translate="home">Home</span></button></a>
      <a href="schedule.html" style="text-decoration: none;"><button id="scheduleBtn">üìÖ <span data-translate="schedule">Schedule</span></button></a>
      <a href="reminder.html" style="text-decoration: none;"><button id="remindersBtn">üîî <span data-translate="reminders">Reminders</span></button></a>
      <a href="settings.html" style="text-decoration: none;"><button id="settingsBtn">‚öôÔ∏è <span data-translate="settings">Settings</span></button></a>
      <a href="howtouse.html" style="text-decoration: none;"><button>‚ùì <span data-translate="howToUse">How to Use</span></button></a>
      <a href="added-medications.html" style="text-decoration: none;"><button>üíä <span data-translate="addedMeds">Added Medications</span></button></a>
      <a href="profile.html" style="text-decoration: none;"><button>üë§ <span data-translate="profile">Profile</span></button></a>

      <div class="language-selector">
        <select class="lS" id="languageSelect">
          <option value="en">English</option>
          <option value="ig">Igbo</option>
          <option value="yo">Yoruba</option>
          <option value="ha">Hausa</option>
        </select>
      </div>
    </nav>

    <h1>üëµ <span data-translate="appName">MedMinder</span></h1>
    <p id="headerGreeting" data-translate="welcome">Welcome, Chidiuso!</p>
    <p id="headerTime"></p>
    <p id="dailyQuote"></p>
    <button class="hauf" id="wellnessBtn" data-translate="wellnessQuestion">üßò How are you feeling today?</button>
  </header>

  <main>
    <section style="font-size: 30px; height: auto;" id="homeSection" class="utility-section">
      <span data-translate="welcomeMessage">Welcome to MedMinder!</span>
    </section>

    <section class="med-list">
      <h2>üïí <span data-translate="todaysMeds">Today's Medications</span></h2>
      <ul id="medications">
        <!-- Medications will be dynamically added here -->
      </ul>
    </section>

    <section class="add-med">
      <h2>‚ûï <span data-translate="addNewMed">Add a New Medication</span></h2>
      <form id="medForm">
        <label for="Day" data-translate="dayLabel">Day</label>
        <input id="Day" type="text" placeholder="e.g. Monday" required />
        
        <label for="medName" data-translate="medNameLabel">Medication Name</label>
        <input id="medName" type="text" placeholder="e.g. Vitamin D" required />

        <label for="dosage" data-translate="dosageLabel">Dosage</label>
        <input id="dosage" type="text" placeholder="e.g. 500mg" required />

        <label for="time" data-translate="timeLabel">Time to Take</label>
        <input id="time" type="time" required />

        <button type="submit" data-translate="addMedButton">Add Medication</button>
      </form>
      <div id="pythonOutput" class="output"></div>
    </section>
  </main>

  <footer>
    <p><span data-translate="copyright">MedMinder ¬© 2025</span></p>
    <p><span data-translate="designedFor">Designed with care for older adults</span> | <a href="#" data-translate="privacyPolicy">Privacy Policy</a></p>
  </footer>

  <script>
    // Comprehensive translations for all content
    const translations = {
      en: {
        // Navigation
        home: "Home",
        schedule: "Schedule",
        reminders: "Reminders",
        settings: "Settings",
        howToUse: "How to Use",
        addedMeds: "Added Medications",
        profile: "Profile",
        
        // Header
        appName: "MedMinder",
        welcome: "Welcome, Chidiuso!",
        wellnessQuestion: "üßò How are you feeling today?",
        welcomeMessage: "Welcome to MedMinder!",
        
        // Main content
        todaysMeds: "Today's Medications",
        addNewMed: "Add a New Medication",
        dayLabel: "Day",
        medNameLabel: "Medication Name",
        dosageLabel: "Dosage",
        timeLabel: "Time to Take",
        addMedButton: "Add Medication",
        
        // Footer
        copyright: "MedMinder ¬© 2025",
        designedFor: "Designed with care for older adults",
        privacyPolicy: "Privacy Policy",
        
        // Form placeholders
        dayPlaceholder: "e.g. Monday",
        medNamePlaceholder: "e.g. Vitamin D",
        dosagePlaceholder: "e.g. 500mg",
        
        // Messages
        medicationAdded: "Medication Added",
        feelingResponsePositive: "Thanks for sharing, Chidiuso. I'm here for you üíô",
        feelingResponseNegative: "I'm really sorry you're feeling that way, Chidiuso. You're not alone ‚Äî and it's okay to take things one step at a time üíô",
        reminderAlert: "‚è∞ Reminder: Take {name} ({dose}) in 30 minutes",
        
        // Time-based greetings
        goodMorning: "Good morning",
        goodAfternoon: "Good afternoon", 
        goodEvening: "Good evening",
        
        // Quotes (sample - you can add more)
        quotes: [
          "Your health is your wealth üíô",
          "Every dose is a step toward strength.",
          "You're doing great ‚Äî keep going!",
          "Small steps, big impact. Take your meds!",
          "The body knows how to heal ‚Äî we just need to listen."
        ]
      },
      ig: {
        // Navigation
        home: "·ª§l·ªç",
        schedule: "Nhazi oge",
        reminders: "Ncheta",
        settings: "Nt·ªçala",
        howToUse: "Otu esi eji",
        addedMeds: "·ªågw·ª• Agbakwunyere",
        profile: "Profa·ªãl·ª•",
        
        // Header
        appName: "MedMinder",
        welcome: "Nn·ªç·ªç, Chidiuso!",
        wellnessQuestion: "üßò Kedu ka ·ªã si d·ªã taa?",
        welcomeMessage: "Nn·ªç·ªç na MedMinder!",
        
        // Main content
        todaysMeds: "·ªågw·ª• Taa",
        addNewMed: "Tinye ·ªågw·ª• ·ªåh·ª•r·ª•",
        dayLabel: "·ª§b·ªçch·ªã",
        medNameLabel: "Aha ·ªågw·ª•",
        dosageLabel: "Usoro",
        timeLabel: "Oge Iwere",
        addMedButton: "Tinye ·ªågw·ª•",
        
        // Footer
        copyright: "MedMinder ¬© 2025",
        designedFor: "Emebere ya maka nd·ªã okenye",
        privacyPolicy: "Am·ª•ma Nzuzo",
        
        // Form placeholders
        dayPlaceholder: "d·ªãka M·ªçnde",
        medNamePlaceholder: "d·ªãka Vitamin D",
        dosagePlaceholder: "d·ªãka 500mg",
        
        // Messages
        medicationAdded: "Agbakwunyere ·ªågw·ª•",
        feelingResponsePositive: "Daal·ª• maka ·ªãkek·ªçr·ªãta, Chidiuso. An·ªç m ebe a maka g·ªã üíô",
        feelingResponseNegative: "·ªå d·ªã m nwute na ·ªã na-ad·ªã ot√∫ ah·ª•, Chidiuso. ·ªä n·ªçgh·ªã naan·ªã g·ªã ‚Äî ·ªç d·ªãkwa mma iwere ihe nway·ªç·ªç nway·ªç·ªç üíô",
        reminderAlert: "‚è∞ Ncheta: Were {name} ({dose}) n'ime nkeji iri at·ªç",
        
        // Time-based greetings
        goodMorning: "Ut·ª•t·ª• ·ªçma",
        goodAfternoon: "Ehihie ·ªçma",
        goodEvening: "Anyas·ªã ·ªçma",
        
        // Quotes
        quotes: [
          "Ah·ª• ike g·ªã b·ª• ak·ª• na ·ª•ba g·ªã üíô",
          "·ªågw·ª• ·ªç b·ª•la b·ª• nz·ªç·ª•kw·ª• n'ihu ike.",
          "·ªä na-eme nke ·ªçma ‚Äî gaa n'ihu!",
          "Nz·ªç·ª•kw·ª• nd·ªã d·ªã nta, mmet·ª•ta d·ªã ukwuu. Were ·ªçgw·ª• g·ªã!",
          "Ah·ª• maara otu esi agw·ªç ·ªçr·ªãa ‚Äî any·ªã kwes·ªãr·ªã ige nt·ªã."
        ]
      },
      yo: {
        // Navigation
        home: "Ile",
        schedule: "I·π£eto Akoko",
        reminders: "Aw·ªçn iranti",
        settings: "Eto",
        howToUse: "Bii Lati Lo",
        addedMeds: "Aw·ªçn Oogun Ti A Fikun",
        profile: "Profaili",
        
        // Header
        appName: "MedMinder",
        welcome: "Kaabo, Chidiuso!",
        wellnessQuestion: "üßò Bawo ni o ·π£e n rilara loni?",
        welcomeMessage: "Kaabo si MedMinder!",
        
        // Main content
        todaysMeds: "Aw·ªçn Oogun Loni",
        addNewMed: "Fi Oogun Tuntun Kun",
        dayLabel: "·ªåj·ªç",
        medNameLabel: "Oruk·ªç Oogun",
        dosageLabel: "Iwon Oogun",
        timeLabel: "Akoko Lati Mu",
        addMedButton: "Fi Oogun Kun",
        
        // Footer
        copyright: "MedMinder ¬© 2025",
        designedFor: "A ·π£e ap·∫πr·∫π p·∫πlu itoju fun aw·ªçn ar·ªçgb·ªç",
        privacyPolicy: "Ilana Ik·ªçk·ªç",
        
        // Form placeholders
        dayPlaceholder: "bii Monday",
        medNamePlaceholder: "bii Vitamin D",
        dosagePlaceholder: "bii 500mg",
        
        // Messages
        medicationAdded: "Oogun Ti A Fikun",
        feelingResponsePositive: "O ·π£eun fun pinpin, Chidiuso. Mo wa nibi fun ·ªç üíô",
        feelingResponseNegative: "Ma binu pe o n rilara b·∫π, Chidiuso. O ko wa nikan ‚Äî o dara lati mu nkan l·∫πs·∫πs·∫π üíô",
        reminderAlert: "‚è∞ Iranti: Mu {name} ({dose}) ninu i·π£·∫πju aad·ªçta",
        
        // Time-based greetings
        goodMorning: "E kaaro",
        goodAfternoon: "E kasan",
        goodEvening: "E ku irole",
        
        // Quotes
        quotes: [
          "Ilera r·∫π ni dukia r·∫π üíô",
          "Gbigbe oogun k·ªç·ªçkan j·∫π igbes·∫π si alagbara.",
          "O n ·π£e daradara ‚Äî t·∫πsiwaju!",
          "Aw·ªçn igbes·∫π kekere, ipa nla. Mu aw·ªçn oogun r·∫π!",
          "Ara m·ªç bi a ·π£e le wosan ‚Äî a kan nilo lati feti si."
        ]
      },
      ha: {
        // Navigation
        home: "Gida",
        schedule: "Jadawali",
        reminders: "Tunatarwa",
        settings: "Saituna",
        howToUse: "Yadda ake Amfani",
        addedMeds: "Magungunan Da Aka ∆òara",
        profile: "Bayanan Martaba",
        
        // Header
        appName: "MedMinder",
        welcome: "Barka da zuwa, Chidiuso!",
        wellnessQuestion: "üßò Yaya kake ji yau?",
        welcomeMessage: "Barka da zuwa MedMinder!",
        
        // Main content
        todaysMeds: "Magungunan Yau",
        addNewMed: "∆òara Sabon Magani",
        dayLabel: "Rana",
        medNameLabel: "Sunan Magani",
        dosageLabel: "Dozi",
        timeLabel: "Lokacin Shan",
        addMedButton: "∆òara Magani",
        
        // Footer
        copyright: "MedMinder ¬© 2025",
        designedFor: "An tsara shi da kulawa ga tsofaffi",
        privacyPolicy: "Manufar Sirri",
        
        // Form placeholders
        dayPlaceholder: "misali Litinin",
        medNamePlaceholder: "misali Vitamin D",
        dosagePlaceholder: "misali 500mg",
        
        // Messages
        medicationAdded: "An ∆òara Magani",
        feelingResponsePositive: "Na gode da rabawa, Chidiuso. Ina nan don ku üíô",
        feelingResponseNegative: "Na yi hakuri cewa kuna jin haka, Chidiuso. Ba ku ka…óai ba ‚Äî kuma ba laifi a …óauki abubuwa mataki-mataki üíô",
        reminderAlert: "‚è∞ Tunatarwa: Sha {name} ({dose}) cikin mintuna talatin",
        
        // Time-based greetings
        goodMorning: "Barka da safiya",
        goodAfternoon: "Barka da rana",
        goodEvening: "Barka da yamma",
        
        // Quotes
        quotes: [
          "Lafiyar ku ce dukiyar ku üíô",
          "Kowane dozi mataki ne zuwa ga ∆ôarfi.",
          "Kuna yin kyau ‚Äî ci gaba!",
          "∆òananan matakai, babban tasiri. Sha magungunan ku!",
          "Jiki ya san yadda ake warkarwa ‚Äî kawai muna bu∆ôatar sauraro."
        ]
      }
    };

    // Apply translations to the entire page
    function applyTranslation(lang) {
      const t = translations[lang] || translations["en"];
      
      // Update all elements with data-translate attribute
      document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (t[key]) {
          element.textContent = t[key];
        }
      });
      
      // Update form placeholders
      const dayInput = document.getElementById('Day');
      const medNameInput = document.getElementById('medName');
      const dosageInput = document.getElementById('dosage');
      
      if (dayInput && t.dayPlaceholder) dayInput.placeholder = t.dayPlaceholder;
      if (medNameInput && t.medNamePlaceholder) medNameInput.placeholder = t.medNamePlaceholder;
      if (dosageInput && t.dosagePlaceholder) dosageInput.placeholder = t.dosagePlaceholder;
      
      // Update header greeting with time-based translation
      updateHeader(lang);
      
      // Update quotes
      updateDailyQuote(lang);
    }

    // Time-based greeting function with translation
    function getGreeting(lang) {
      const hour = new Date().getHours();
      const t = translations[lang] || translations["en"];
      
      if (hour < 12) return t.goodMorning;
      if (hour < 18) return t.goodAfternoon;
      return t.goodEvening;
    }

    function updateHeader(lang = 'en') {
      const greeting = getGreeting(lang);
      const t = translations[lang] || translations["en"];
      document.getElementById("headerGreeting").textContent = `${greeting}, Chidiuso! ${t.welcomeMessage}`;

      const now = new Date();
      document.getElementById("headerTime").textContent = now.toLocaleString();
    }

    function updateDailyQuote(lang = 'en') {
      const t = translations[lang] || translations["en"];
      const quotes = t.quotes || translations["en"].quotes;
      const quote = quotes[Math.floor(Math.random() * quotes.length)];
      document.getElementById("dailyQuote").textContent = quote;
    }

    // Wellness button functionality with translation
    document.getElementById("wellnessBtn").addEventListener("click", () => {
      const currentLang = document.getElementById("languageSelect").value;
      const t = translations[currentLang] || translations["en"];
      
      const response = prompt(t.wellnessQuestion);
      if (!response) return;

      const negativeWords = {
        en: ["sad", "tired", "angry", "bad", "not good", "depressed", "unwell", "down"],
        ig: ["iruju", "ike gw·ª•", "iwe", "·ªçj·ªç·ªç", "ad·ªãgh·ªã mma", "obi erugh·ªã ala", "ad·ªãgh·ªã mma", "ala"],
        yo: ["ibinuje", "agbara", "ibinu", "buburu", "k√≤ d√°ra", "idam·∫πl·∫π", "ailera", "isal·∫π"],
        ha: ["bak'in ciki", "gajiya", "fushi", "mugu", "ba mai kyau", "ba∆ôin ciki", "rashin lafiya", "∆ôasa"]
      };

      const words = negativeWords[currentLang] || negativeWords["en"];
      const isNegative = words.some(word => response.toLowerCase().includes(word));

      if (isNegative) {
        alert(t.feelingResponseNegative);
      } else {
        alert(t.feelingResponsePositive);
      }
    });

// Simple medication form handler
let userMedications = JSON.parse(localStorage.getItem('userMedications') || '[]');

document.getElementById("medForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const day = document.getElementById("Day").value;
  const name = document.getElementById("medName").value;
  const dose = document.getElementById("dosage").value;
  const time = document.getElementById("time").value;

  // Save to localStorage
  userMedications.push({
    name: name,
    dose: dose,
    time: time,
    days: [day]
  });
  localStorage.setItem('userMedications', JSON.stringify(userMedications));

  // Add to today's list immediately
  const newItem = document.createElement("li");
  newItem.innerHTML = `
    <strong>${name}</strong> ‚Äì ${dose} at <em>${time}</em>
    <button class="mark-taken-btn" onclick="markMedicationTaken('${name}', '${dose}', '${time}')">‚úÖ Taken</button>
    <button class="mark-missed-btn" onclick="markMedicationMissed('${name}', '${dose}', '${time}')">‚ùå Missed</button>
  `;
  document.getElementById("medications").appendChild(newItem);

  // Update progress
  updateProgressDisplay();

  // Clear form
  this.reset();
});

// Load medications when page loads
document.addEventListener('DOMContentLoaded', function() {
  displayTodayMedications();
  updateProgressDisplay();
});

    // Check every minute for reminders with translation
    setInterval(() => {
      const currentLang = document.getElementById("languageSelect").value;
      const t = translations[currentLang] || translations["en"];
      
      const now = new Date();
      reminders.forEach(reminder => {
        if (reminder.alerted) return;

        const [hour, minute] = reminder.time.split(":").map(Number);
        const medTime = new Date();
        medTime.setHours(hour, minute - 30, 0, 0); // 30 minutes before

        if (
          now.getHours() === medTime.getHours() &&
          now.getMinutes() === medTime.getMinutes()
        ) {
          const alertMessage = t.reminderAlert.replace('{name}', reminder.name).replace('{dose}', reminder.dose);
          alert(alertMessage);
          reminder.alerted = true;
        }
      });
    }, 60000);

    // Initialize the page
    window.addEventListener("DOMContentLoaded", () => {
      const defaultLang = document.getElementById("languageSelect").value;
      applyTranslation(defaultLang);
      
      // Set interval for header updates
      setInterval(() => {
        const currentLang = document.getElementById("languageSelect").value;
        updateHeader(currentLang);
      }, 1800000);
    });

    // Language selector event listener
    document.getElementById("languageSelect").addEventListener("change", (e) => {
      applyTranslation(e.target.value);
    });
    // Add this to your existing JavaScript
class MedicationTracker {
    constructor() {
        this.medicationHistory = JSON.parse(localStorage.getItem('medHistory') || '[]');
        this.init();
    }

    init() {
        // Load existing tracking
        this.displayTodaySummary();
        
        // Check for due medications every minute
        setInterval(() => this.checkDueMedications(), 60000);
    }

    // Track when medication is taken
    trackMedicationTaken(medName, dosage, time) {
        const entry = {
            medication: medName,
            dosage: dosage,
            scheduledTime: time,
            takenTime: new Date().toISOString(),
            taken: true,
            date: new Date().toLocaleDateString(),
            timestamp: Date.now()
        };

        this.medicationHistory.push(entry);
        localStorage.setItem('medHistory', JSON.stringify(this.medicationHistory));
        
        this.displayTodaySummary();
        this.showSuccessMessage(medName);
    }

    // Track missed medications
    trackMedicationMissed(medName, dosage, time) {
        const entry = {
            medication: medName,
            dosage: dosage,
            scheduledTime: time,
            taken: false,
            date: new Date().toLocaleDateString(),
            timestamp: Date.now()
        };

        this.medicationHistory.push(entry);
        localStorage.setItem('medHistory', JSON.stringify(this.medicationHistory));
        
        this.displayTodaySummary();
    }

    // Check for due medications
    checkDueMedications() {
        const now = new Date();
        const currentTime = now.getHours() + ':' + now.getMinutes().toString().padStart(2, '0');
        
        const medications = JSON.parse(localStorage.getItem('userMedications') || '[]');
        
        medications.forEach(med => {
            if (med.time === currentTime) {
                this.showTakeMedicationPrompt(med);
            }
        });
    }

    // Show prompt to take medication
    showTakeMedicationPrompt(medication) {
        const tookIt = confirm(`‚è∞ Time to take: ${medication.name} (${medication.dosage})\n\nDid you take it?`);
        
        if (tookIt) {
            this.trackMedicationTaken(medication.name, medication.dosage, medication.time);
        } else {
            this.trackMedicationMissed(medication.name, medication.dosage, medication.time);
        }
    }

    // Display today's summary
    displayTodaySummary() {
        const today = new Date().toLocaleDateString();
        const todayMeds = this.medicationHistory.filter(entry => entry.date === today);
        
        const takenCount = todayMeds.filter(entry => entry.taken).length;
        const missedCount = todayMeds.filter(entry => !entry.taken).length;
        const totalCount = todayMeds.length;

        // Create or update summary display
        let summaryDiv = document.getElementById('todaySummary');
        if (!summaryDiv) {
            summaryDiv = document.createElement('div');
            summaryDiv.id = 'todaySummary';
            summaryDiv.className = 'today-summary';
            document.querySelector('.med-list').prepend(summaryDiv);
        }

        summaryDiv.innerHTML = `
            <h3>üìä Today's Progress</h3>
            <div class="progress-stats">
                <div class="stat taken">‚úÖ Taken: ${takenCount}</div>
                <div class="stat missed">‚ùå Missed: ${missedCount}</div>
                <div class="stat total">üìã Total: ${totalCount}</div>
            </div>
            ${totalCount > 0 ? `
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${(takenCount / totalCount) * 100}%"></div>
                </div>
                <div class="progress-text">${Math.round((takenCount / totalCount) * 100)}% adherence today</div>
            ` : ''}
        `;
    }

    // Show success message
    showSuccessMessage(medName) {
        const message = document.createElement('div');
        message.className = 'success-message';
        message.textContent = `‚úÖ ${medName} logged as taken!`;
        message.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px;
            border-radius: 8px;
            z-index: 1000;
            animation: slideIn 0.3s ease;
        `;
        
        document.body.appendChild(message);
        setTimeout(() => message.remove(), 3000);
    }

    // Get weekly report
    getWeeklyReport() {
        const oneWeekAgo = new Date();
        oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
        
        const recentMeds = this.medicationHistory.filter(entry => 
            new Date(entry.timestamp) > oneWeekAgo
        );

        const taken = recentMeds.filter(entry => entry.taken).length;
        const total = recentMeds.length;
        const adherenceRate = total > 0 ? (taken / total) * 100 : 0;

        return {
            period: 'Last 7 days',
            taken: taken,
            total: total,
            adherenceRate: Math.round(adherenceRate),
            medications: recentMeds
        };
    }

    // Export data (simple version)
    exportData() {
        const data = {
            medicationHistory: this.medicationHistory,
            exportDate: new Date().toISOString(),
            totalEntries: this.medicationHistory.length
        };
        
        const dataStr = JSON.stringify(data, null, 2);
        const blob = new Blob([dataStr], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        
        const a = document.createElement('a');
        a.href = url;
        a.download = `medminder-data-${new Date().toISOString().split('T')[0]}.json`;
        a.click();
        
        URL.revokeObjectURL(url);
    }
}

// Initialize tracker
const medTracker = new MedicationTracker();

// Add this HTML section to your page
const trackingHTML = `
<section class="data-tracking">
    <h2>üìä Medication Tracking</h2>
    
    <div class="tracking-actions">
        <button id="viewReport" data-translate="viewReport">View Weekly Report</button>
        <button id="exportData" data-translate="exportData">Export Data</button>
        <button id="manualLog" data-translate="manualLog">Log Medication</button>
    </div>

    <div id="weeklyReport" class="weekly-report" style="display: none;">
        <h3 data-translate="weeklyReport">Weekly Adherence Report</h3>
        <div id="reportContent"></div>
    </div>

    <div class="history-section">
        <h3 data-translate="recentHistory">Recent History</h3>
        <div id="medicationHistory"></div>
    </div>
</section>
`;

// Add to your main content
document.querySelector('main').insertAdjacentHTML('beforeend', trackingHTML);

// Add event listeners
document.getElementById('viewReport')?.addEventListener('click', () => {
    const report = medTracker.getWeeklyReport();
    const reportContent = document.getElementById('reportContent');
    
    reportContent.innerHTML = `
        <div class="report-card">
            <div class="report-stat">
                <strong>Adherence Rate:</strong> ${report.adherenceRate}%
            </div>
            <div class="report-stat">
                <strong>Medications Taken:</strong> ${report.taken}/${report.total}
            </div>
            <div class="report-stat">
                <strong>Period:</strong> ${report.period}
            </div>
        </div>
    `;
    
    document.getElementById('weeklyReport').style.display = 'block';
});

document.getElementById('exportData')?.addEventListener('click', () => {
    medTracker.exportData();
});

document.getElementById('manualLog')?.addEventListener('click', () => {
    const medName = prompt('Which medication did you take?');
    if (medName) {
        medTracker.trackMedicationTaken(medName, 'Manual entry', new Date().toLocaleTimeString());
    }
});


  </script>
</body>

</html>


